#PWscf
####It can do:

* ground-state energy and one-electron (Kohn-Sham) orbitals, atomic forces, stresses;
* structural optimization, also with variable cell;
* molecular dynamics on the Born-Oppenheimer surface, also with variable cell;
* macroscopic polarization and ﬁnite electric ﬁelds via the modern theory of polarization (Berry Phases);
* modern theory of orbital magnetization;
* free-energy  surface  calculation  at  ﬁxed cell  through  meta-dynamics,  if  patched  with PLUMED.
 
####Tools in PW/tools:

* **kpoints.x** produces lists of k-points
* **bs.awk, mv.awk** process the output of pw.x
* **ev.x** fits energy-vs-volume data to an equation of state
* **cif2qe.sh** converting from CIF to a format suitable for QUANTUM ESPRESSO
* **dist.x**  reads input data for **PWscf**, calculates distances and angles between atoms in a cell periodically
* **pwi2xsf.sh, pwo2xsf.sh** process respectively input and output files for **pw.x** and produce and XSF-formatted file suitable for plotting with XCrySDen


***

####Input data:

#####NAMELISTS:

* **&CONTROL** general variables controlling the run
* **&SYSTEM** structural  information on the system under investigation
* **&ELECTRONS** electronic variables: self-consistency, smearing
* **&IONS** ( *optional* ) ionic variables: relaxation, dynamics
* **&CELL** ( *optional* ) variable-cell optimization or dynamics

#####AND CARDS:

* **ATOMIC_SPECIES**
* **ATOMIC_POSITIONS**
* **K_POINTS**
* **CELL_PARAMETERS** ( *optional* )
* **OCCUPATIONS** ( *optional* )

####All the variables have default values **EXCEPT**:

* **ibrav** ( *integer* ) : Bravais_lattice index
* **celldm** ( *real, dimension 6* ) : crystallographic constants
* **nat** ( *integer* ) : number of atoms in the unit cell
* **ntyp** ( *integer* ) : number of types of atoms in the unit cell
* **ecutwfc** ( *real* ) : kinetic energy cutoff (Ry) for wavefunctions.    
 

***
###Input files instruction
####&CONTROL

*    **calculation** = **'scf'**, 'nscf', bands', 'relax', 'md', 'vc-relax', 'vc-md' 

      *vc: variable-cell*
*  **title** = **'_CHARACTER_ '**

*  **verbosity** = **'low'**, 'high'

*  **restart\_mode** = **'from\_scratch'**, 'restart'

*  **wf\_collect** = **.FALSE.**, .TRUE.

    to store wavefunctions or not

*  **nstep** = **1** *for scf, nscf, bands calculation*, **50** *for others*

    number of ionic + electronic steps

*  **iprint** = ???

*  **tstress**, **tprnfor** = **.TRUE.** *for vc-md, vc- relax calculation*, **.FALSE.** *for others*

    calculate stress and calculate forces

*  **dt** = **20.D0**

    time step for molecular dynamics. in Rydberg atomic units (1 a.u.=4.8378 * 10^-17 s : beware, the CP code uses  Hartree atomic units, half that much

*  **outdir** = **'./'**

    input, temporary, output files are found in this directory

*  **wfcdir** = *same as*  **"outdir"**

    this directory specifies where to store files generated by each processor in order to restart from interrupted runs, or to perform further calculations using the produced data files, you may need to copy files to "outdir". Works only for pw.x.

*  **prefix** = **'pwscf'**

    prepended to input/output filenames

*  **lkpoint_dir** = **'.TRUE.'**, .FALSE.

    false for a single file for all k-points

*  **max_seconds** = **1.D+7** *or* **150 days**

    jobs stops after "max_seconds" CPU time

*  **etot_conv_thr** = **1.0D-4**

    convergence threshold on total energy (a.u) for ionic minimization

*  **forc_conv_thr** = **1.0D-3**

    convergence threshold on forces (a.u) for ionic minimization

*  **disk_io** = **'low'** *for scf calculation*, **'medium'** *for others*, 'high', 'none'

    'high':   save all data to disk at each SCF step;   
    'medium': save wavefunctions at each SCF step unless
          there is a single k-point per process (in which
          case the behavior is the same as 'low');   
     'low' :   store wfc in memory, save only at the end;  
     'none':   do not save anything, not even at the end.

*  **pseudo_dir** = **$ESPRESSO_PSEUDO** *or* **$HOME/espresso/pseudo/**

    directory containing pseudopotential files

*  **tefield** = **.FALSE.**, .TRUE.

    .TRUE. for a saw-like potential simulating an electric field added to the bare ionic potential

*  **dipfield** = **.FALSE.**, .TRUE.

    .TRUE. and tefield=.TRUE. for a dipole correction is also added to the bare ionic potential. Must be used ONLY in a slab geometry, for surface calculations, with the discontinuity FALLING IN THE EMPTY SPACE.

*  **lelfield** = **.FALSE.**, .TRUE.

    .TRUE. for a homogeneous finite electric field described through the modern theory of the polarization is applied

*  **nberrycyc** = **1**

    In the case of a finite electric field  ( lelfield == .TRUE. ) it defines the number of iterations for converging the wavefunctions in the electric field Hamiltonian, for each external iteration on the charge density

*  **lorbm** = **.FALSE.**, .TRUE.

    .TRUE. perform orbital magnetization calculation. If finite electric field is applied (lelfield=.true.) only Kubo terms are computed 

*  **lberry** = **.FALSE.**

    .TRUE.  for perform a Berry phase calculation

*  **gdir** = *INTEGER*

    For Berry phase calculation: direction of the k-point strings in reciprocal space.Allowed values: 1, 2, 3: 1=first, 2=second, 3=third reciprocal lattice vector

    For calculations with finite electric fields (lelfield==.true.) "gdir" is the direction of the field

*  **nppstr** = *INTEGER*

    For Berry phase calculation: number of k-points to be calculated along each symmetry-reduced string The same for calculation with finite electric fields (lelfield=.true.)  
    
/
####$SYSTEM

*  **ibrav** = *INTEGER*

    Bravais-lattice index. If ibrav /= 0, specify EITHER   [ celldm(1)-celldm(6) ] OR [ A,B,C,cosAB,cosAC,cosBC ]  but NOT both. The lattice parameter "alat" is set to  alat = celldm(1) (in a.u.) or alat = A (in Angstrom); 

    For ibrav=0 specify the lattice vectors in CELL_PARAMETER,  optionally the lattice parameter alat = celldm(1) (in a.u.)  or = A (in Angstrom), or else it is taken from CELL_PARAMETERS

    |ibrav|structure|celldm(2)-celldm(6) or b, c, cosab, cosac, cosbc|
    |---:|:----:|:---|
    |0|free|crystal axis provided input *see card CELL_PARAMETERS*|
    |1|cubic P (sc)| |
    |2|cubic F (fcc)| |
    |3|cubic I (bcc)| |
    |4|Hexagonal and Trigonal P|celldm(3)=c/a|
    |5|Trigonal R, 3fold axis c|celldm(4)=cos(alpha)|
    |-5|Trigonal R, 3fold axis <111>|celldm(4)=cos(alpha)|
    |6|Tetragonal P (st)|celldm(3)=c/a|
    |7|Tetragonal I (bct)|celldm(3)=c/a|
    |8|Orthorhombic P|celldm(2)=b/a, celldm(3)=c/a|
    |9|Orthorhombic base-centered(bco)|celldm(2)=b/a, celldm(3)=c/a|
    |-9|*as 9, alternate description*| |
    |10|Orthorhombic face-centered|celldm(2)=b/a, celldm(3)=c/a|
    |11|Orthorhombic body-centered|celldm(2)=b/a, celldm(3)=c/a|
    |12|Monoclinic P, unique axis c|celldm(2)=b/a, celldm(3)=c/a, celldm(4)=cos(ab)|
    |-12|Monoclinic P, unique axis b|celldm(2)=b/a, celldm(3)=c/a, celldm(5)=cos(ac)|
    |13|Monoclinic base-centered|celldm(2)=b/a, celldm(3)=c/a, celldm(4)=cos(ab)|
    |14|Triclinic|celldm(2)= b/a, celldm(3)= c/a, celldm(4)= cos(bc), celldm(5)= cos(ac), celldm(6)= cos(ab)|

    * **cellm(i), i=1,6** = *REAL*
       
        Crystallographic constants - see the "ibrav" variable. Specify either these OR A,B,C,cosAB,cosBC,cosAC NOT both. Only needed values (depending on "ibrav") must be specified alat = celldm(1) is the lattice parameter "a" (in BOHR) If ibrav=0, only celldm(1) is used if present; cell vectors are read from card CELL_PARAMETERS

    * *or* **A, B, C, cosAB, cosAC, cosBC** = *REAL*

        Traditional crystallographic constants: a,b,c in ANGSTROM: cosAB = cosine of the angle between axis a and b (gamma); cosAC = cosine of the angle between axis a and c (beta); cosBC = cosine of the angle between axis b and c (alpha). The axis are chosen according to the value of "ibrav". Specify either these OR "celldm" but NOT both. Only needed values (depending on "ibrav") must be specified. The lattice parameter alat = A (in ANGSTROM ). If ibrav = 0, only A is used if present; cell vectors are read from card CELL_PARAMETERS


        Power by makedown
